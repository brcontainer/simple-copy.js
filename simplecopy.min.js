/* SimpleCopy.js 0.0.1 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t,c){var o,n=e.Element&&e.Element.prototype,r=/^(input|textarea)$/i,a="data-simplecopy-";function i(c,o){c.focus(),c.select(),o&&(t.execCommand("copy"),e.getSelection().removeAllRanges())}function l(c,o){var n,a,l,s;("string"==typeof c&&(c=t.querySelector(c)),c)&&(r.test(c.nodeName)?i(c,o):(n=c,a=o,l=t.createRange(),s=e.getSelection(),l.selectNode(n),s.removeAllRanges(),s.addRange(l),a&&(t.execCommand("copy"),s.removeAllRanges())))}function s(e){(o=o||t.createElement("textarea")).value=e,t.body.appendChild(o),i(o,!0),t.body.removeChild(o)}t.addEventListener("click",function(e){if(0===e.button){var c,o,n,r=e.target;if(r.matches("["+a+"text]"))return s(r.getAttribute(a+"text"));if(r.matches("["+a+"target]")){if(c=r.getAttribute(a+"target"),n=r.getAttribute(a+"select"),!(o=t.querySelector(c)))return!1;l(o,"true"!==n)}}}),e.SimpleCopy={select:function(e){l(e,!1)},copy:function(e){l(e,!0)},text:s},n&&!n.matches&&(n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),c=t.length;--c>=0&&t[c]!==this;);return c>-1})}(window,document);
