/* SimpleCopy.js 0.4.0 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t){var o,n=e.Element&&e.Element.prototype,c="data-simplecopy-",l=e.getSelection(),r=t.documentElement;function a(e,o,n,c,r){var a="object"==typeof e.form;if(n&&!a)return i(e.textContent);var s=t.createRange(),u=e.isContentEditable,m=!o&&!a;if(l.removeAllRanges(),m&&(e.contentEditable=!c||"inherit"),a&&!c){if(o)return e.select&&e.select(),e.focus();if("SELECT"===e.nodeName&&r){for(var d,f=0,h=[],p=e.options,v=p.length;f<v;f++)p[f].selected&&h.push(p[f].value);d=h.join(r)}else d=e.value;return i(d)}c?s.selectNode(e):s.selectNodeContents(e),l.addRange(s),o||(t.execCommand("copy"),m&&(e.contentEditable=!!u||"inherit"),l.removeAllRanges())}function i(e){var n=r.scrollLeft,c=r.scrollTop;(o=o||t.createElement("textarea")).value=e,t.documentElement.scrollLeft,t.body.appendChild(o),o.focus(),o.select&&o.select(),t.execCommand("copy"),t.body.removeChild(o),r.scrollLeft=n,r.scrollTop=c}function s(e,t,o){return o?e.getAttribute(c+t):e.matches("["+c+t+'="true"]')}t.addEventListener("click",function(e){if(0===e.button){var o,n,c=e.target,l=s(c,"data",!0);if(l)return i(l);if(n=s(c,"target",!0)){if(!(o=t.querySelector(n)))return!1;a(o,s(c,"select"),s(c,"text"),s(c,"node"),s(c,"multiple",!0))}}}),e.SimpleCopy={select:function(e,t){a(e,!0)},copy:function(e,t){a(e,(t=t||{}).select,t.text,t.node,t.multiple)},data:i},n&&!n.matches&&(n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t[o]!==this;);return o>-1})}(window,document);
