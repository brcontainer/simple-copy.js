/* SimpleCopy.js 0.3.0 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t){"use strict";var n,o=e.Element&&e.Element.prototype,c="data-simplecopy-",l=e.getSelection();function a(e,n,o,c,a){if("object"==typeof e.labels){if("SELECT"===e.nodeName&&a){for(var i,s=0,u=[],d=e.options,m=d.length;s<m;s++)d[s].selected&&u.push(d[s].value);i=u.join(a)}else i=e.value;return r(i)}if(o)return r(e.textContent);var f=t.createRange(),h=!n&&!e.isContentEditable;l.removeAllRanges(),e.isContentEditable||c?(h&&(e.contentEditable=!0),f.selectNodeContents(e)):f.selectNode(e),l.addRange(f),n||(t.execCommand("copy"),h&&(e.contentEditable=!1),l.removeAllRanges())}function r(e){(n=n||t.createElement("textarea")).value=e,t.body.appendChild(n),n.focus(),n.select&&n.select(),t.execCommand("copy"),l.removeAllRanges(),t.body.removeChild(n)}function i(e,t,n){return n?e.getAttribute(c+t):e.matches("["+c+t+'="true"]')}t.addEventListener("click",function(e){if(0===e.button){var n,o,c=e.target,l=i(c,"data",!0);if(l)return r(l);if(o=i(c,"target",!0)){if(!(n=t.querySelector(o)))return!1;a(n,i(c,"select"),i(c,"text"),i(c,"content"),i(c,"multiple",!0))}}}),e.SimpleCopy={select:function(e,t){a(e,!0)},copy:function(e,t){a(e,(t=t||{}).select,t.text,t.content,t.multiple)},data:r},o&&!o.matches&&(o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t[n]!==this;);return n>-1})}(window,document);
