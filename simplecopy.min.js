/* SimpleCopy.js 0.4.2 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t){var o,n=e.Element&&e.Element.prototype,c=e.getSelection(),l="data-simplecopy-",r=t.documentElement,i=t.body;function a(e,o,n,l,r){var i="object"==typeof e.form;if(n&&!i)return u(e.textContent);var a=t.createRange(),d=e.isContentEditable,m=!o&&!i;if(c.removeAllRanges(),m&&(e.contentEditable=!l||"inherit"),i&&!l){if(o)return s(e);if("SELECT"===e.nodeName&&r){for(var f,p=0,h=[],v=e.options,y=v.length;p<y;p++)v[p].selected&&h.push(v[p].value);f=h.join(r)}else f=e.value;return u(f)}l?a.selectNode(e):a.selectNodeContents(e),c.addRange(a),o||(t.execCommand("copy"),m&&(e.contentEditable=!!d||"inherit"),c.removeAllRanges())}function s(e){e.focus(),e.select()}function u(e){var n=r.scrollLeft,c=r.scrollTop;(o=o||t.createElement("textarea")).style.cssText="position:absolute;left:"+n+"px;top:"+c+"px;visibility:hidden",o.value=e,i.appendChild(o),s(o),t.execCommand("copy"),i.removeChild(o),r.scrollLeft=n,r.scrollTop=c}function d(e,t,o){return o?e.getAttribute(l+t):e.matches("["+l+t+'="true"]')}t.addEventListener("click",function(e){if(0===e.button){var o,n,c=e.target,l=d(c,"data",!0);if(l)return u(l);if(n=d(c,"target",!0)){if(!(o=t.querySelector(n)))return!1;a(o,d(c,"select"),d(c,"text"),d(c,"node"),d(c,"multiple",!0))}}}),e.SimpleCopy={select:function(e,t){a(e,!0,!1,(t=t||{}).node)},copy:function(e,t){a(e,!1,(t=t||{}).text,t.node,t.multiple)},data:u},n&&!n.matches&&(n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t[o]!==this;);return o>-1})}(window,document);
