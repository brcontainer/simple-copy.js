/* SimpleCopy.js 0.2.0 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t){"use strict";var o,a=e.Element&&e.Element.prototype,c="data-simplecopy-",n=/^(input|textarea)$/i;function r(e,t){var o="";if("object"==typeof e.labels)if("SELECT"===e.nodeName&&e.multiple&&t){for(var a=0,c=[],n=e.options,r=n.length;a<r;a++)n[a].selected&&c.push(n[a].value);o=c.join(t)}else o=e.value;else o=e.textContent;o&&i(o)}function l(o,a){var c,r,l,s;("string"==typeof o&&(o=t.querySelector(o)),o)&&(a&&n.test(o.nodeName)?i(o.value):(c=o,r=a,l=e.getSelection(),(s=t.createRange()).selectNode(c),l.removeAllRanges(),l.addRange(s),r&&(t.execCommand("copy"),l.removeAllRanges())))}function i(a){var c,n;(o=o||t.createElement("textarea")).value=a,t.body.appendChild(o),n=!0,(c=o).focus(),c.select&&c.select(),n&&(t.execCommand("copy"),e.getSelection().removeAllRanges()),t.body.removeChild(o)}t.addEventListener("click",function(e){if(0===e.button){var o,a,n=e.target;if(n.matches("["+c+"data]"))return i(n.getAttribute(c+"data"));if(n.matches("["+c+"target]")){if(o=n.getAttribute(c+"target"),!(a=t.querySelector(o)))return!1;n.matches("["+c+'text="true"]')?r(a,n.getAttribute(c+"multiple")):l(a,!n.matches("["+c+'select="true"]'))}}}),e.SimpleCopy={select:function(e){l(e,!1)},copy:function(e,t){if(t&&!0===t.text)return r(e,t.multiple);l(e,!0)},data:i},a&&!a.matches&&(a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t[o]!==this;);return o>-1})}(window,document);
