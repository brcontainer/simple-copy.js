{
  "version": 3,
  "sources": ["../simple-copy.js", "../browser.mjs"],
  "sourcesContent": ["/*\r\n * simple-copy.js 2.0.0\r\n *\r\n * Copyright (c) 2026 Guilherme Nascimento (brcontainer@yahoo.com.br)\r\n *\r\n * Released under the MIT license\r\n */\r\n\r\nconst elementSelectors = [\r\n    'data-simple-copy',\r\n    'data-simple-copy-text',\r\n    'data-simple-copy-write'\r\n];\r\n\r\nconst matchSelector = `[${elementSelectors.join('],[')}]`;\r\n\r\n/**\r\n * Resolve element from selector or return a element\r\n *\r\n * @param {HTMLElement|MathMLElement|SVGElement|string} elementOrSelector - The HTML or SVG element to be copied.\r\n */\r\nfunction resolveElement(elementOrSelector) {\r\n    if (typeof elementOrSelector !== 'string') {\r\n        return elementOrSelector;\r\n    }\r\n\r\n    const element = document.querySelector(elementOrSelector);\r\n\r\n    if (element === null) {\r\n        throw new Error(`Element not found for selector: ${elementOrSelector}`);\r\n    }\r\n\r\n    return element;\r\n}\r\n\r\n/**\r\n * Writes content (string or Blob) to the clipboard with a specific MIME type.\r\n *\r\n * @param {Blob|string|number} source - String, text, or binary to copy\r\n * @param {string} [type] - Changes the MIME type (if omitted, the default will be the Blob type, or text/plain for others).\r\n */\r\nasync function write(source, type) {\r\n    if (!navigator.clipboard || !navigator.clipboard.writeText) {\r\n        throw new Error('Clipboard API is not supported');\r\n    }\r\n\r\n    if (source instanceof Blob) {\r\n        if (!type) {\r\n            type = source.type;\r\n            if (!type) {\r\n                throw new Error('Blob type is missing');\r\n            }\r\n        }\r\n    } else {\r\n        type = type !== null && type !== void 0 ? type : 'text/plain';\r\n        if (typeof source !== 'string') {\r\n            source = String(source);\r\n        }\r\n    }\r\n\r\n    if (type === 'text/plain') {\r\n        if (source instanceof Blob) {\r\n            source = await source.text();\r\n        }\r\n\r\n        await navigator.clipboard.writeText(source);\r\n    } else {\r\n        if (!navigator.clipboard.write) {\r\n            throw new Error('Clipboard.write() method is not supported by your browser');\r\n        }\r\n\r\n        if (typeof ClipboardItem === 'undefined') {\r\n            throw new Error('ClipboardItem is not supported');\r\n        }\r\n\r\n        await navigator.clipboard.write([\r\n            new ClipboardItem({\r\n                [type]: source\r\n            })\r\n        ]);\r\n    }\r\n}\r\n\r\n/**\r\n * Copies the outerHTML of the provided HTML, MathML or SVG element.\r\n *\r\n * @param {HTMLElement|MathMLElement|SVGElement|string} elementOrSelector - Element or Seletor.\r\n */\r\nasync function copy(elementOrSelector) {\r\n    const element = resolveElement(elementOrSelector);\r\n    return write(element.outerHTML, 'text/html');\r\n}\r\n\r\n/**\r\n * Copies only the textContent (visible text) of the provided HTML, MathML or SVG element.\r\n * Note: for input elements copies value entry\r\n *\r\n * @param {HTMLElement|MathMLElement|SVGElement|string} elementOrSelector - Element or Seletor.\r\n */\r\nasync function copyText(elementOrSelector) {\r\n    const element = resolveElement(elementOrSelector);\r\n    const dataset = element.dataset;\r\n\r\n    let output = '';\r\n\r\n    if (dataset.simpleCopyPrepend !== undefined) {\r\n        output += dataset.simpleCopyPrepend;\r\n    }\r\n\r\n    let content;\r\n\r\n    if (\r\n        element instanceof HTMLInputElement ||\r\n        element instanceof HTMLTextAreaElement ||\r\n        element instanceof HTMLSelectElement\r\n    ) {\r\n        content = element.value;\r\n    } else {\r\n        content = element.textContent;\r\n        content = content !== null && content !== void 0 ? content : '';\r\n    }\r\n\r\n    output += content;\r\n\r\n    if (dataset.simpleCopyAppend !== undefined) {\r\n        output += dataset.simpleCopyAppend;\r\n    }\r\n\r\n    return write(output, 'text/plain');\r\n}\r\n\r\n/**\r\n * Delegate click events for use `data-simple-copy-*` attributes\r\n *\r\n * @param {string} entry\r\n * @param {HTMLElement|MathMLElement|SVGElement} node\r\n * @param {string} attr\r\n * @param {Function} callback\r\n */\r\nfunction trigger(entry, node, attr, callback) {\r\n    if (entry) {\r\n        callback(entry);\r\n    } else {\r\n        console.error(`${attr} attribute is empty`, node);\r\n    }\r\n}\r\n\r\n/**\r\n * Delegate click events for use `data-simple-copy-*` attributes\r\n *\r\n * @param {MouseEvent} event\r\n */\r\nfunction setupDom(event) {\r\n    if (event.button !== 0) return;\r\n\r\n    if (\r\n        event.target instanceof HTMLElement ||\r\n        event.target instanceof MathMLElement ||\r\n        event.target instanceof SVGElement\r\n    ) {\r\n        let element = event.target;\r\n\r\n        if (element) {\r\n            element = element.closest(matchSelector);\r\n        }\r\n\r\n        if (!element) return;\r\n\r\n        const dataset = element.dataset;\r\n\r\n        if (dataset.simpleCopyWrite !== undefined) {\r\n            trigger(dataset.simpleCopyWrite, element, 'data-simple-copy-write', write);\r\n        } else if (dataset.simpleCopyText !== undefined) {\r\n            trigger(dataset.simpleCopyText, element, 'data-simple-copy-text', copyText);\r\n        } else if (dataset.simpleCopy !== undefined) {\r\n            trigger(dataset.simpleCopy, element, 'data-simple-copy', copy);\r\n        }\r\n    }\r\n}\r\n\r\ndocument.addEventListener('click', setupDom);\r\n\r\nexport { write, copy, copyText };\r\n", "import {copy, copyText, write } from './simple-copy.js';\r\n\r\nwindow.SimpleCopy = { copy, copyText, write };"],
  "mappings": "MAQA,IAAMA,EAAmB,CACrB,mBACA,wBACA,wBACJ,EAEMC,EAAgB,IAAI,OAAAD,EAAiB,KAAK,KAAK,EAAC,KAOtD,SAASE,EAAeC,EAAmB,CACvC,GAAI,OAAOA,GAAsB,SAC7B,OAAOA,EAGX,IAAMC,EAAU,SAAS,cAAcD,CAAiB,EAExD,GAAIC,IAAY,KACZ,MAAM,IAAI,MAAM,mCAAmC,OAAAD,EAAmB,EAG1E,OAAOC,CACX,CAQA,eAAeC,EAAMC,EAAQC,EAAM,CAC/B,GAAI,CAAC,UAAU,WAAa,CAAC,UAAU,UAAU,UAC7C,MAAM,IAAI,MAAM,gCAAgC,EAGpD,GAAID,aAAkB,MAClB,GAAI,CAACC,IACDA,EAAOD,EAAO,KACV,CAACC,GACD,MAAM,IAAI,MAAM,sBAAsB,OAI9CA,EAAOA,GAAS,KAA0BA,EAAO,aAC7C,OAAOD,GAAW,WAClBA,EAAS,OAAOA,CAAM,GAI9B,GAAIC,IAAS,aACLD,aAAkB,OAClBA,EAAS,MAAMA,EAAO,KAAK,GAG/B,MAAM,UAAU,UAAU,UAAUA,CAAM,MACvC,CACH,GAAI,CAAC,UAAU,UAAU,MACrB,MAAM,IAAI,MAAM,2DAA2D,EAG/E,GAAI,OAAO,cAAkB,IACzB,MAAM,IAAI,MAAM,gCAAgC,EAGpD,MAAM,UAAU,UAAU,MAAM,CAC5B,IAAI,cAAc,CACd,CAACC,CAAI,EAAGD,CACZ,CAAC,CACL,CAAC,CACL,CACJ,CAOA,eAAeE,EAAKL,EAAmB,CACnC,IAAMC,EAAUF,EAAeC,CAAiB,EAChD,OAAOE,EAAMD,EAAQ,UAAW,WAAW,CAC/C,CAQA,eAAeK,EAASN,EAAmB,CACvC,IAAMC,EAAUF,EAAeC,CAAiB,EAC1CO,EAAUN,EAAQ,QAEpBO,EAAS,GAETD,EAAQ,oBAAsB,SAC9BC,GAAUD,EAAQ,mBAGtB,IAAIE,EAEJ,OACIR,aAAmB,kBACnBA,aAAmB,qBACnBA,aAAmB,kBAEnBQ,EAAUR,EAAQ,OAElBQ,EAAUR,EAAQ,YAClBQ,EAAUA,GAAY,KAA6BA,EAAU,IAGjED,GAAUC,EAENF,EAAQ,mBAAqB,SAC7BC,GAAUD,EAAQ,kBAGfL,EAAMM,EAAQ,YAAY,CACrC,CAUA,SAASE,EAAQC,EAAOC,EAAMC,EAAMC,EAAU,CACtCH,EACAG,EAASH,CAAK,EAEd,QAAQ,MAAM,GAAG,OAAAE,EAAI,uBAAuBD,CAAI,CAExD,CAOA,SAASG,EAASC,EAAO,CACrB,GAAIA,EAAM,SAAW,IAGjBA,EAAM,kBAAkB,aACxBA,EAAM,kBAAkB,eACxBA,EAAM,kBAAkB,YAC1B,CACE,IAAIf,EAAUe,EAAM,OAMpB,GAJIf,IACAA,EAAUA,EAAQ,QAAQH,CAAa,GAGvC,CAACG,EAAS,OAEd,IAAMM,EAAUN,EAAQ,QAEpBM,EAAQ,kBAAoB,OAC5BG,EAAQH,EAAQ,gBAAiBN,EAAS,yBAA0BC,CAAK,EAClEK,EAAQ,iBAAmB,OAClCG,EAAQH,EAAQ,eAAgBN,EAAS,wBAAyBK,CAAQ,EACnEC,EAAQ,aAAe,QAC9BG,EAAQH,EAAQ,WAAYN,EAAS,mBAAoBI,CAAI,CAErE,CACJ,CAEA,SAAS,iBAAiB,QAASU,CAAQ,EClL3C,OAAO,WAAa,CAAE,KAAAE,EAAM,SAAAC,EAAU,MAAAC,CAAM",
  "names": ["elementSelectors", "matchSelector", "resolveElement", "elementOrSelector", "element", "write", "source", "type", "copy", "copyText", "dataset", "output", "content", "trigger", "entry", "node", "attr", "callback", "setupDom", "event", "copy", "copyText", "write"]
}
