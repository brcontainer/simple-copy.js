/* simple-copy.js 0.5.2 | Copyright (c) 2020 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */
!function(e){var t="undefined"!=typeof window?window:{},n=t.document||{},o=t.jQuery,r=t.getSelection(),i=n.implementation.createHTMLDocument("").body,l="data-simplecopy-",c="script,noscript,object,link,img,[simple-copy-ignore=true]";function a(e){return"true"!==e.hasAttribute("simple-copy-ignore")&&!e.offsetWidth&&!e.offsetHeight&&!e.getClientRects().length}function u(t,o,l,u,f){if("string"==typeof t)try{t=n.querySelector(t)}catch(e){return!1}if(!t||1!==t.nodeType)return!1;var d="object"==typeof t.form;if(l&&!d)return function(t){for(var n=t.getElementsByTagName("*"),o=[],r=n.length-1;r>=0;r--)a(u=n[r])&&(u.setAttribute("simple-copy-ignore","true"),o.push(u));for(i.innerHTML=t.innerHTML,r=o.length-1;r>=0;r--)o[r].removeAttribute("simple-copy-ignore");o=e;var l=tmpDoc.querySelectorAll(c);for(r=l.length-1;r>=0;r--){var u;(u=l[r])&&u.parentNode&&u.parentNode.removeChild(u)}return p(i.textContent)}(t);var m=n.createRange(),y=!o&&!d,g=t.isContentEditable;if(r.removeAllRanges(),y&&(t.contentEditable=!u||"inherit"),d&&!u){if(o)return s(t);if("SELECT"===t.nodeName&&f){for(var v,h=0,b=[],C=t.options,x=C.length;h<x;h++)C[h].selected&&b.push(C[h].value);v=b.join(f)}else v=t.value;return p(v)}if(u?m.selectNode(t):m.selectNodeContents(t),r.addRange(m),!o){var T=n.execCommand("copy");return y&&(t.contentEditable=!!g||"inherit"),r.removeAllRanges(),t.blur(),T}}function s(e){e.focus(),e.select&&e.select()}function p(t){var o=n.scrollingElement||n.body,r=n.createElement("textarea"),i=o.scrollLeft,l=o.scrollTop;r.style.cssText="position:absolute;left:"+i+"px;top:"+l+"px;opacity:0",r.value=t,n.body.appendChild(r),s(r);var c=n.execCommand("copy");return n.body.removeChild(r),o.scrollLeft=i,o.scrollTop=l,o=r=e,c}function f(e,t,n){var o=e.getAttribute(l+t);return n?o:"true"===o}n.addEventListener("click",function(e){if(0===e.button){var t,o,r=e.target,l=f(r,"data",!0);if(l)i.innerHTML=l,u(i,!1,!0);else{if(!(o=f(r,"target",!0)))return;(t=n.querySelector(o))&&u(t,f(r,"select"),f(r,"text"),f(r,"node"),f(r,"multiple",!0))}}});var d={select:function(e,t){return u(e,!0,!1,(t=t||{}).node)},copy:function(e,t){return u(e,!1,(t=t||{}).text,t.node,t.multiple)},data:p};o&&o.extend&&(o.fn.simpleCopy=function(t){var n=this[0];n&&(t||(t={}),t.type===e&&(action="copy"),"copy"!==action&&"select"!==action||d[action](n,t))}),t.SimpleCopy=d}();
