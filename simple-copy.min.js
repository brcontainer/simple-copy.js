/* simple-copy.js 0.4.4 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t){var n,o,r=e.getSelection(),l="data-simplecopy-",i="script,noscript,object,link,img",c=t.body;function a(e,n,o,l,c){if("string"==typeof e)try{e=t.querySelector(e)}catch(e){}if(e&&1===e.nodeType){var a="object"==typeof e.form;if(o&&!a)return function(e){var n=t.implementation.createHTMLDocument("");n.body.innerHTML=e.innerHTML;for(var o=n.querySelectorAll(i),r=o.length-1;r>=0;r--){var l=o[r];l&&l.parentNode&&l.parentNode.removeChild(l)}u(n.body.textContent),n=null}(e);var d=t.createRange(),f=e.isContentEditable,p=!n&&!a;if(r.removeAllRanges(),p&&(e.contentEditable=!l||"inherit"),a&&!l){if(n)return s(e);if("SELECT"===e.nodeName&&c){for(var m,v=0,y=[],g=e.options,b=g.length;v<b;v++)g[v].selected&&y.push(g[v].value);m=y.join(c)}else m=e.value;return u(m)}l?d.selectNode(e):d.selectNodeContents(e),r.addRange(d),n||(t.execCommand("copy"),p&&(e.contentEditable=!!f||"inherit"),r.removeAllRanges())}}function s(e){e.focus(),e.select&&e.select()}function u(e){var r=(n=n||(t.scrollingElement?t.scrollingElement:t.body)).scrollLeft,l=n.scrollTop;(o=o||t.createElement("textarea")).style.cssText="position:absolute;left:"+r+"px;top:"+l+"px;opacity:0",o.value=e,c.appendChild(o),s(o),t.execCommand("copy"),c.removeChild(o),n.scrollLeft=r,n.scrollTop=l}function d(e,t,n){var o=e.getAttribute(l+t);return n?o:"true"===o}t.addEventListener("click",function(e){if(0===e.button){var n,o,r=e.target,l=d(r,"data",!0);if(l)return u(l);if(o=d(r,"target",!0)){if(!(n=t.querySelector(o)))return!1;a(n,d(r,"select"),d(r,"text"),d(r,"node"),d(r,"multiple",!0))}}}),e.SimpleCopy={select:function(e,t){a(e,!0,!1,(t=t||{}).node)},copy:function(e,t){a(e,!1,(t=t||{}).text,t.node,t.multiple)},data:u}}(window,document);
