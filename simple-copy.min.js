/* simple-copy.js 0.5.2 | Copyright (c) 2021 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */
!function(e){"use strict";var t="undefined"!=typeof window?window:{},n=t.document||{},o=t.jQuery,r=n.implementation.createHTMLDocument("").body,i="data-simplecopy-",l="script,noscript,object,link,img,[simple-copy-ignore=true]";function c(e){return"true"!==e.hasAttribute("simple-copy-ignore")&&!e.offsetWidth&&!e.offsetHeight&&!e.getClientRects().length}function a(t,o,i,a,p){if("string"==typeof t)try{t=n.querySelector(t)}catch(e){return!1}if(!t||1!==t.nodeType)return!1;var f="object"==typeof t.form;if(i&&!f)return function(t){for(var n=t.getElementsByTagName("*"),o=[],i=n.length-1;i>=0;i--)c(u=n[i])&&(u.setAttribute("simple-copy-ignore","true"),o.push(u));for(r.innerHTML=t.innerHTML,i=o.length-1;i>=0;i--)o[i].removeAttribute("simple-copy-ignore");o=e;var a=r.querySelectorAll(l);for(i=a.length-1;i>=0;i--){var u;(u=a[i])&&u.parentNode&&u.parentNode.removeChild(u)}return s(r.textContent)}(t);var d=t.ownerDocument,m=d.defaultView.getSelection(),y=d.createRange(),g=!o&&!f,v=t.isContentEditable;if(m.removeAllRanges(),g&&(t.contentEditable=!a||"inherit"),f&&!a){if(o)return u(t);if("SELECT"===t.nodeName&&p){for(var h,b=0,C=[],x=t.options,T=x.length;b<T;b++)x[b].selected&&C.push(x[b].value);h=C.join(p)}else h=t.value;return s(h)}if(a?y.selectNode(t):y.selectNodeContents(t),m.addRange(y),!o){var E=d.execCommand("copy");return g&&(t.contentEditable=!!v||"inherit"),m.removeAllRanges(),t.blur(),E}}function u(e){e.focus(),e.select&&e.select()}function s(t){var o=n.scrollingElement||n.body,r=n.createElement("textarea"),i=o.scrollLeft,l=o.scrollTop;r.style.cssText="position:absolute;left:"+i+"px;top:"+l+"px;opacity:0",r.value=t,n.body.appendChild(r),u(r);var c=n.execCommand("copy");return n.body.removeChild(r),o.scrollLeft=i,o.scrollTop=l,o=r=e,c}function p(e,t,n){var o=e.getAttribute(i+t);return n?o:"true"===o}n.addEventListener("click",function(e){if(0===e.button){var t,o,i=e.target,l=p(i,"data",!0);if(l)r.innerHTML=l,a(r,!1,!0);else{if(!(o=p(i,"target",!0)))return;(t=n.querySelector(o))&&a(t,p(i,"select"),p(i,"text"),p(i,"node"),p(i,"multiple",!0))}}});var f={select:function(e,t){return a(e,!0,!1,(t=t||{}).node)},copy:function(e,t){return a(e,!1,(t=t||{}).text,t.node,t.multiple)},data:s};o&&o.extend&&(o.fn.simpleCopy=function(t){var n=this[0];n&&(t||(t={}),t.type===e&&(action="copy"),"copy"!==action&&"select"!==action||f[action](n,t))}),t.SimpleCopy=f}();
