/* simple-copy.js 0.4.3 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t){var n,o,r=e.Element&&e.Element.prototype,l=e.getSelection(),c="data-simplecopy-",i="script,noscript,object,link,img",a=t.body;function s(e,n,o,r,c){var a="object"==typeof e.form;if(o&&!a)return function(e){var n=t.implementation.createHTMLDocument("");n.body.innerHTML=e.innerHTML;for(var o=n.querySelectorAll(i),r=o.length-1;r>=0;r--){var l=o[r];l&&l.parentNode&&l.parentNode.removeChild(l)}d(n.body.textContent),n=null}(e);var s=t.createRange(),m=e.isContentEditable,p=!n&&!a;if(l.removeAllRanges(),p&&(e.contentEditable=!r||"inherit"),a&&!r){if(n)return u(e);if("SELECT"===e.nodeName&&c){for(var f,h=0,v=[],y=e.options,g=y.length;h<g;h++)y[h].selected&&v.push(y[h].value);f=v.join(c)}else f=e.value;return d(f)}r?s.selectNode(e):s.selectNodeContents(e),l.addRange(s),n||(t.execCommand("copy"),p&&(e.contentEditable=!!m||"inherit"),l.removeAllRanges())}function u(e){e.focus(),e.select&&e.select()}function d(e){var r=(o=o||(t.scrollingElement?t.scrollingElement:t.body)).scrollLeft,l=o.scrollTop;(n=n||t.createElement("textarea")).style.cssText="position:absolute;left:"+r+"px;top:"+l+"px;opacity:0",n.value=e,a.appendChild(n),u(n),t.execCommand("copy"),a.removeChild(n),o.scrollLeft=r,o.scrollTop=l}function m(e,t,n){return n?e.getAttribute(c+t):e.matches("["+c+t+'="true"]')}t.addEventListener("click",function(e){if(0===e.button){var n,o,r=e.target,l=m(r,"data",!0);if(l)return d(l);if(o=m(r,"target",!0)){if(!(n=t.querySelector(o)))return!1;s(n,m(r,"select"),m(r,"text"),m(r,"node"),m(r,"multiple",!0))}}}),e.SimpleCopy={select:function(e,t){s(e,!0,!1,(t=t||{}).node)},copy:function(e,t){s(e,!1,(t=t||{}).text,t.node,t.multiple)},data:d},r&&!r.matches&&(r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t[n]!==this;);return n>-1})}(window,document);
