/* simple-copy.js 0.4.7 | Copyright (c) 2019 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,m,l){"use strict";var y=e.getSelection(),r="data-simplecopy-",v="script,noscript,object,link,img";function i(e,t,n,o,r){if("string"==typeof e)try{e=m.querySelector(e)}catch(e){}if(e&&1===e.nodeType){var l="object"==typeof e.form;if(n&&!l)return function(e){var t=m.implementation.createHTMLDocument("");t.body.innerHTML=e.innerHTML;for(var n=t.querySelectorAll(v),o=n.length-1;0<=o;o--){var r=n[o];r&&r.parentNode&&r.parentNode.removeChild(r)}b(t.body.textContent),t=null}(e);var i=m.createRange(),c=e.isContentEditable,a=!t&&!l;if(y.removeAllRanges(),a&&(e.contentEditable=!o||"inherit"),l&&!o){if(t)return g(e);if("SELECT"===e.nodeName&&r){for(var d,s=0,u=[],f=e.options,p=f.length;s<p;s++)f[s].selected&&u.push(f[s].value);d=u.join(r)}else d=e.value;return b(d)}o?i.selectNode(e):i.selectNodeContents(e),y.addRange(i),t||(m.execCommand("copy"),a&&(e.contentEditable=!!c||"inherit"),y.removeAllRanges())}}function g(e){e.focus(),e.select&&e.select()}function b(e){var t=m.scrollingElement?m.scrollingElement:m.body,n=m.createElement("textarea"),o=t.scrollLeft,r=t.scrollTop;n.style.cssText="position:absolute;left:"+o+"px;top:"+r+"px;opacity:0",n.value=e,m.body.appendChild(n),g(n),m.execCommand("copy"),m.body.removeChild(n),t.scrollLeft=o,t.scrollTop=r,t=n=l}function c(e,t,n){var o=e.getAttribute(r+t);return n?o:"true"===o}m.addEventListener("click",function(e){if(0===e.button){var t,n,o=e.target,r=c(o,"data",!0);if(r)return b(r);if(n=c(o,"target",!0)){if(!(t=m.querySelector(n)))return!1;i(t,c(o,"select"),c(o,"text"),c(o,"node"),c(o,"multiple",!0))}}}),e.SimpleCopy={select:function(e,t){i(e,!0,!1,(t=t||{}).node)},copy:function(e,t){i(e,!1,(t=t||{}).text,t.node,t.multiple)},data:b}}(window,document);
