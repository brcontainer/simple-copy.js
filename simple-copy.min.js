/* simple-copy.js 0.5.0 | Copyright (c) 2020 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */
(function(a){function b(a){return"true"!==a.hasAttribute("simple-copy-ignore")&&!a.offsetWidth&&!a.offsetHeight&&!a.getClientRects().length}function c(c){for(var d,e=c.getElementsByTagName("*"),f=[],g=e.length-1;0<=g;g--)d=e[g],b(d)&&(d.setAttribute("simple-copy-ignore","true"),f.push(d));l.body.innerHTML=c.innerHTML;for(var g=f.length-1;0<=g;g--)f[g].removeAttribute("simple-copy-ignore");f=a;for(var d,k=l.querySelectorAll("script,noscript,object,link,img,[simple-copy-ignore=true]"),g=k.length-1;0<=g;g--)d=k[g],d&&d.parentNode&&d.parentNode.removeChild(d);return h(l.body.textContent)}function f(a,b,d,f,l){if("string"==typeof a)try{a=e.querySelector(a)}catch(a){return!1}if(!a||1!==a.nodeType)return!1;var m="object"==typeof a.form;if(d&&!m)return c(a);var n=e.createRange(),o=!b&&!m,p=a.isContentEditable;if(k.removeAllRanges(),o&&(a.contentEditable=!f||"inherit"),m&&!f){if(b)return g(a);if("SELECT"===a.nodeName&&l){for(var q,r=0,s=[],t=a.options,u=t.length;r<u;r++)t[r].selected&&s.push(t[r].value);q=s.join(l)}else q=a.value;return h(q)}if(f?n.selectNode(a):n.selectNodeContents(a),k.addRange(n),!b){var j=e.execCommand("copy");return o&&(a.contentEditable=!!p||"inherit"),k.removeAllRanges(),a.blur(),j}}function g(a){a.focus(),a.select&&a.select()}function h(b){var c=e.scrollingElement?e.scrollingElement:e.body,d=e.createElement("textarea"),f=c.scrollLeft,h=c.scrollTop;d.style.cssText="position:absolute;left:"+f+"px;top:"+h+"px;opacity:0",d.value=b,e.body.appendChild(d),g(d);var i=e.execCommand("copy");return e.body.removeChild(d),c.scrollLeft=f,c.scrollTop=h,c=d=a,i}function i(a,b,c){var d=a.getAttribute("data-simplecopy-"+b);return c?d:"true"===d}var j="undefined"==typeof window?{}:window,e=j.document?j.document:{},d=j.jQuery,k=j.getSelection(),l=e.implementation.createHTMLDocument("");e.addEventListener("click",function(a){if(0===a.button){var b,c,d=a.target,g=i(d,"data",!0);if(g)l.body.innerHTML=g,f(l.body,!1,!0);else{if(c=i(d,"target",!0),!c)return;if(b=e.querySelector(c),!b)return!1;f(b,i(d,"select"),i(d,"text"),i(d,"node"),i(d,"multiple",!0))}}}),j.SimpleCopy={select:function(a,b){return b=b||{},f(a,!0,!1,b.node)},copy:function(a,b){return b=b||{},f(a,!1,b.text,b.node,b.multiple)},data:h},d&&d.extend&&(d.fn.simpleCopy=function(b){var c=this[0];c&&(!b&&(b={}),b.type===a&&(action="copy"),("copy"===action||"select"===action)&&SimpleCopy[action](c,b))})})();
